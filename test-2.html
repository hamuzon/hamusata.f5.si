<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HAMUSATA – ホームページ</title>

  <!-- Favicon -->
  <link rel="icon" href="https://hamusata.f5.si/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" href="https://hamusata.f5.si/icon.png" sizes="32x32">
  <link rel="icon" type="image/webp" href="https://hamusata.f5.si/icon.webp" sizes="32x32">
  <link rel="icon" type="image/svg+xml" href="https://hamusata.f5.si/icon.svg">
  <link rel="apple-touch-icon" href="https://hamusata.f5.si/icon.png">

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#000000">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Potta+One&display=swap" rel="stylesheet">

  <!-- Base CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- モバイルメニュー & Cookieバナー CSS -->
  <style>
    /* ハンバーガーメニュー */
    #menu-toggle { position: fixed; top:16px; right:16px; width:48px; height:48px; background:transparent; border:none; cursor:pointer; z-index:1001; display:flex; flex-direction:column; justify-content:space-around; padding:10px; box-sizing:border-box; transition: transform 0.4s ease; }
    #menu-toggle span { display:block; height:4px; background-color:#000; border-radius:2px; transition: all 0.4s ease; }
    body.dark #menu-toggle span { background-color:#fff; }
    #menu-toggle.active span:nth-child(1) { transform: rotate(-45deg) translate(-6px,6px); }
    #menu-toggle.active span:nth-child(2) { opacity:0; }
    #menu-toggle.active span:nth-child(3) { transform: rotate(45deg) translate(-6px,-6px); }

    /* モバイルメニュー */
    #mobile-menu { position: fixed; top:0; right:-100%; width:75%; max-width:320px; height:100vh; padding-top:80px; border-radius:16px 0 0 16px; overflow-y:auto; z-index:1000; background: rgba(255,255,255,0.12); backdrop-filter: blur(28px) saturate(120%); box-shadow: -8px 0 24px rgba(0,0,0,0.25); transition: right 0.4s ease, background 0.3s; }
    body.dark #mobile-menu { background: rgba(10,10,10,0.6); }
    #mobile-menu.open { right:0; }
    #mobile-menu ul { list-style:none; padding:0; margin:0; }
    #mobile-menu li { margin:0; }
    #mobile-menu a { display:block; padding:18px 24px; font-size:18px; color:#000; text-decoration:none; border-radius:12px; margin:6px 12px; border-bottom:1px solid rgba(0,0,0,0.05); background: rgba(255,255,255,0.08); backdrop-filter: blur(22px); transition: background 0.3s, color 0.3s, transform 0.3s; }
    body.dark #mobile-menu a { color:#fff; border-bottom:1px solid rgba(255,255,255,0.05); }
    #mobile-menu a:hover { background-color: rgba(0,188,212,0.2); color:#00bcd4; transform:translateX(4px); }

    /* メニューオーバーレイ */
    #menu-overlay { position:fixed; top:0; left:0; width:100%; height:100vh; background-color: rgba(0,0,0,0.5); opacity:0; visibility:hidden; transition: opacity 0.4s ease; z-index:900; }
    #menu-overlay.active { opacity:1; visibility:visible; }

    /* セクション末尾広告 */
    .ad-container { width:100%; display:flex; justify-content:center; align-items:center; margin:16px 0; padding:12px 0; }
    .ad-container ins { display:block !important; max-width:100%; height:auto !important; }

    /* Cookieバナー */
    #cookie-banner { position:fixed; bottom:0; left:0; width:100%; background:rgba(0,0,0,0.8); color:#fff; padding:12px; text-align:center; z-index:1200; display:none; }
    #cookie-banner button { margin:4px; padding:6px 10px; border:none; border-radius:4px; cursor:pointer; }
    #cookie-banner button:hover { background-color: rgba(255,255,255,0.1); }

    /* レスポンシブ */
    @media (max-width:480px) { #mobile-menu { width:85%; padding-top:70px; } #mobile-menu a { font-size:16px; padding:14px 20px; } }
  </style>
</head>

<body class="light">
  <!-- Cookieバナー -->
  <div id="cookie-banner">
    <p>このサイトではCookieを使用します。</p>
    <p>
      <button id="minimal-cookie">必要最低限のみ</button>
      <button id="accept-all-cookie">全て許可</button>
      <button id="reject-cookie">拒否</button>
    </p>
  </div>

  <!-- ヘッダー -->
  <header>
    <a href="index.html" class="banner-link">
      <img src="hamusata_399-120.webp" alt="hamusata home banner" width="399" height="120" loading="lazy" decoding="async">
    </a>

    <button id="menu-toggle" aria-label="メニューを開く" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>

    <nav id="mobile-menu">
      <ul>
        <li><a href="#home">ホーム</a></li>
        <li><a href="#profile">自己紹介</a></li>
        <li><a href="#portfolio">ポートフォリオ</a></li>
        <li><a href="#random">ランダム作品</a></li>
        <li><a href="#status">サービス稼働状況</a></li>
        <li><a href="#mutual-links">相互リンク</a></li>
        <li><a href="#sns">SNSリンク</a></li>
        <li><a href="terms.html">利用規約・プライバシーポリシー</a></li>
      </ul>
    </nav>
    <div id="menu-overlay"></div>
  </header>

  <main>
    <h1>HAMUSATA ホームページ</h1>

    <section id="profile">
      <h2>自己紹介</h2>
      <p>こんにちは、hamusataです。webサイトを作ったりネットをしてるネットの海の住民。</p>
      <p>ハムスターを飼っています。</p>
      <p>ネットの海でプログラミングしたりネットしたりして過ごしてます。</p>
    </section>

    <section id="portfolio">
      <h2>ポートフォリオリンク集</h2>
      <div class="works" id="portfolioLinks"></div>
    </section>

    <section id="random">
      <h2>ランダム作品</h2>
      <div class="works" id="randomLinks"></div>
    </section>

    <section id="status">
      <h2>サービス稼働状況</h2>
      <div class="works" id="statusLinks"></div>
    </section>

    <section id="mutual-links">
      <h2>相互リンク</h2>
      <div class="works" id="mutualLinks"></div>
    </section>

    <section id="sns">
      <h2>SNSリンク</h2>
      <div class="works" id="snsLinks"></div>
    </section>
  </main>

  <footer>
    &copy; <span id="year"></span> <a href="https://github.com/hamuzon">@hamuzon / @hamusata</a> – All rights reserved.
  </footer>

  <script src="js/links-sub.js"></script>
  <script src="js/script-sub.js"></script>

  <!-- AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7413522404678991" crossorigin="anonymous"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // 年自動更新
      document.getElementById("year").textContent = new Date().getFullYear();

      // ===== 各 section の末尾に広告挿入 =====
      document.querySelectorAll("main section").forEach(section => {
        const ad = document.createElement("div");
        ad.className = "ad-container";
        ad.innerHTML = `
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-7413522404678991"
               data-ad-slot="1234567890"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
        `;
        section.appendChild(ad);
        (adsbygoogle = window.adsbygoogle || []).push({});
      });

      // Cookieバナー制御
      const cookieBanner = document.getElementById("cookie-banner");
      const showCookieBanner = () => {
        const consent = localStorage.getItem("cookieConsent");
        if (!consent) cookieBanner.style.display = "block";
      };
      const hideCookieBanner = (choice) => {
        localStorage.setItem("cookieConsent", choice);
        cookieBanner.style.display = "none";
      };
      document.getElementById("minimal-cookie").addEventListener("click", ()=>hideCookieBanner("minimal"));
      document.getElementById("accept-all-cookie").addEventListener("click", ()=>hideCookieBanner("all"));
      document.getElementById("reject-cookie").addEventListener("click", ()=>hideCookieBanner("reject"));
      const consent = localStorage.getItem("cookieConsent");
      if (!consent) showCookieBanner();
    });
  </script>
</body>
</html>