<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>作品ランダムリンク</title>
<style>
  body { 
    font-family: 'Potta One', sans-serif; 
    background:#121212; 
    color:#ddd; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    justify-content:center; 
    min-height:100vh; 
    margin:0; 
  }
  h1 { margin-bottom:2rem; text-align:center; }
  button {
    padding:1rem 2rem;
    font-size:1.2rem;
    border:none;
    border-radius:12px;
    background:#444;
    color:#fff;
    cursor:pointer;
    transition:0.3s;
  }
  button:hover { background:#666; }
</style>
</head>
<body>

<h1>作品ランダムリンク</h1>
<button id="randomBtn">ランダムで開く</button>

<script src="links.js"></script>
<script>
  const btn = document.getElementById("randomBtn");
  btn.addEventListener("click", () => {
    const randomIndex = Math.floor(Math.random() * links.length);
    window.open(links[randomIndex], "_blank");
  });
</script>

<script>
function checkRedirect() {
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent) || window.innerWidth <= 768;
    const host = window.location.host;
    if (host !== 'hamusata.f5.si' && host !== 'm.hamusata.f5.si') return;
    if ((isMobile && host === 'm.hamusata.f5.si') || (!isMobile && host === 'hamusata.f5.si')) return;
    const path = window.location.pathname + window.location.search + window.location.hash;
    const targetDomain = isMobile ? 'https://m.hamusata.f5.si' : 'https://hamusata.f5.si';
    const target = targetDomain + path;
    window.location.href = target;
}
window.addEventListener('load', checkRedirect);
window.addEventListener('resize', checkRedirect);
window.addEventListener('orientationchange', checkRedirect);
</script>

</body>
</html>
