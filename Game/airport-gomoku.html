<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç©ºæ¸¯ä¸¦ã¹ï¼ˆäº”ç›®ä¸¦ã¹ï¼‰ / Airport Gomoku</title>
<meta name="description" content="ç©ºæ¸¯ä¸¦ã¹ï¼ˆäº”ç›®ä¸¦ã¹ï¼‰ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚²ãƒ¼ãƒ ã§ã™ã€‚ç¸¦ãƒ»æ¨ªãƒ»æ–œã‚ã«5ã¤ä¸¦ã¹ã¦å‹åˆ©ã‚’ç›®æŒ‡ãã†ï¼ / Airport Gomoku browser game. Place airports in a row of 5 vertically, horizontally, or diagonally to win!">
<style>
  body { font-family: Arial, sans-serif; text-align: center; margin: 10px; }
  h1 { color: #333; }
  #board {
    display: grid;
    gap: 2px;
    margin: 0 auto;
    max-width: 90vw;
    max-height: 90vw;
    grid-template-rows: repeat(10, 1fr);
    grid-template-columns: repeat(10, 1fr);
  }
  .cell {
    border: 1px solid #333;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: min(2.5vw, 24px);
    cursor: pointer;
    aspect-ratio: 1 / 1;
  }
  .player1 { background-color: #aaf; }
  .player2 { background-color: #faa; }
  #status { margin-top: 10px; font-size: 1.1em; }
  button { margin-top: 10px; padding: 5px 10px; font-size: 1em; }
</style>
</head>
<body>

<h1>ç©ºæ¸¯ä¸¦ã¹ï¼ˆäº”ç›®ä¸¦ã¹ï¼‰</h1>
<div id="board"></div>
<p id="status">ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1ã®ã‚¿ãƒ¼ãƒ³</p>
<button id="restartBtn">ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ</button>

<script>
const SIZE = 10;
const WIN_COUNT = 5;
let board = [];
let currentPlayer = 1;

const boardEl = document.getElementById("board");
const statusEl = document.getElementById("status");
const restartBtn = document.getElementById("restartBtn");

function createBoard() {
  board = Array(SIZE).fill(null).map(() => Array(SIZE).fill(0));
  boardEl.innerHTML = "";
  for (let r = 0; r < SIZE; r++) {
    for (let c = 0; c < SIZE; c++) {
      const cell = document.createElement("div");
      cell.classList.add("cell");
      cell.addEventListener("click", () => handleClick(r, c, cell));
      boardEl.appendChild(cell);
    }
  }
}

function handleClick(r, c, cell) {
  if (board[r][c] !== 0) return;
  board[r][c] = currentPlayer;
  cell.textContent = currentPlayer === 1 ? "âœˆ" : "ğŸ›¬";
  cell.classList.add(currentPlayer === 1 ? "player1" : "player2");

  if (checkWin(r, c)) {
    setTimeout(() => alert(`ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼${currentPlayer}ã®å‹åˆ©ï¼`), 10);
    return;
  }

  currentPlayer = currentPlayer === 1 ? 2 : 1;
  statusEl.textContent = `ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼${currentPlayer}ã®ã‚¿ãƒ¼ãƒ³`;
}

// å‹åˆ©åˆ¤å®šï¼ˆæ¨ªãƒ»ç¸¦ãƒ»æ–œã‚ï¼‰
function checkWin(r, c) {
  const directions = [
    [0,1], [1,0], [1,1], [1,-1]
  ];
  for (let [dr, dc] of directions) {
    let count = 1;
    for (let i = 1; i < WIN_COUNT; i++) {
      const nr = r - dr*i, nc = c - dc*i;
      if (nr<0||nc<0||nr>=SIZE||nc>=SIZE||board[nr][nc]!==currentPlayer) break;
      count++;
    }
    for (let i = 1; i < WIN_COUNT; i++) {
      const nr = r + dr*i, nc = c + dc*i;
      if (nr<0||nc<0||nr>=SIZE||nc>=SIZE||board[nr][nc]!==currentPlayer) break;
      count++;
    }
    if (count >= WIN_COUNT) return true;
  }
  return false;
}

restartBtn.addEventListener("click", () => {
  currentPlayer = 1;
  statusEl.textContent = "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1ã®ã‚¿ãƒ¼ãƒ³";
  createBoard();
});

// åˆæœŸè¡¨ç¤º
createBoard();
</script>

</body>
</html>